var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},t=e.parcelRequired7c6;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,n){i[e]=n},e.parcelRequired7c6=t);var a=t("lpPzL"),l=t("E9a0y");var r=function(){const e={footerModalOpen:document.querySelector(".footer-modal-open"),footerModalClose:document.querySelector(".btn-close"),modal:document.querySelector("[data-modal]"),backdrop:document.querySelector(".backdrop")};function n(n){n.preventDefault(),console.log("closed"),e.modal.classList.add("is-hidden")}function i(e){"Escape"===e.code&&n(e)}e.footerModalOpen.addEventListener("click",(function(n){n.preventDefault(),console.log("kurva open"),window.addEventListener("keydown",i),e.modal.classList.remove("is-hidden")})),e.footerModalClose.addEventListener("click",n),e.backdrop.addEventListener("click",n),document.addEventListener("keypress",(function(e){console.log(e.code),"Escape"===e.code&&n()}))},o=t("cky31"),s=t("2Di0R");t("lHYFr"),t("6mLAN");const c=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];t("cky31"),s=t("2Di0R"),a=t("lpPzL"),o=t("cky31");t("b3J8n");const d=(0,a.default)(),m=new(0,s.default);document.addEventListener("DOMContentLoaded",(()=>{u()}));let g=1;async function u(){try{const{results:e,page:n,total_pages:i}=await m.fetchTrendWeekMovies();d.imagesContainer.innerHTML="",e.length&&d.imagesContainer.insertAdjacentHTML("afterbegin",e.map(o.createMarkupElement).join("")),function(e,n){g=e;let i="",t=e-2,a=e-1,l=e+2,r=e+1;e>1&&(i+='<li class="pagination__arrow pagination__arrow--left materials-icons">&larr;</li>');e>2&&(i+='<li class="pagination__number display-none">1</li>');e>4&&(i+='<li class="pagination__number display-none">...</li>');e>3&&(i+=`<li class="pagination__number">${t}</li>`);e>=2&&(i+=`<li class="pagination__number">${a}</li>`);i+=`<li class="pagination__number active">${e}</li>`,e<n-1&&(i+=`<li class="pagination__number">${r}</li>`);e<n-2&&(i+=`<li class="pagination__number">${l}</li>`);e<=n-1&&(e<n-3&&(i+='<li class="pagination__number display-none">...</li>'),i+=`<li class="pagination__number display-none">${n}</li>`);e<n&&(i+="<li class='pagination__arrow pagination__arrow--right materials-icons'>&rarr;</li>");d.paginationList.innerHTML=i,d.paginationList.addEventListener("click",p)}(n,i)}catch(e){console.log(e)}}function p(e){if("LI"!==e.target.nodeName)return;const n=e.target.textContent;switch(window.scrollTo({top:240,behavior:"smooth"}),n){case"←":m.previousPage();break;case"→":m.nextPage();break;case"...":break;default:m.eventPage(n)}u()}function f(e,n){g=e;let i="";e>1&&(i+='<li class="pagination__arrow pagination__arrow--left materials-icons">&larr;</li>'),e>2&&(i+='<li class="pagination__number display-none">1</li>'),e>4&&(i+='<li class="pagination__number display-none">...</li>'),e>3&&(i+=`<li class="pagination__number">${e-2}</li>`),e>=2&&(i+=`<li class="pagination__number">${e-1}</li>`),i+=`<li class="pagination__number active">${e}</li>`,e<n-1&&(i+=`<li class="pagination__number">${e+1}</li>`),e<n-2&&(i+=`<li class="pagination__number">${e+2}</li>`),e<=n-1&&(e<n-3&&(i+='<li class="pagination__number display-none">...</li>'),i+=`<li class="pagination__number display-none">${n}</li>`),e<n&&(i+="<li class='pagination__arrow pagination__arrow--right materials-icons'>&rarr;</li>"),d.paginationList.innerHTML=i,d.paginationList.addEventListener("click",_)}function _(e){if("LI"!==e.target.nodeName)return;const n=e.target.textContent;switch(window.scrollTo({top:240,behavior:"smooth"}),n){case"←":m.previousPage();break;case"→":m.nextPage();break;case"...":break;default:m.eventPage(n)}b()}s=t("2Di0R"),a=t("lpPzL");const L=new(0,s.default),h=(0,a.default)();let v=[],y=[];async function b(){try{const{results:e,page:n,total_pages:i}=await L.fetchMovieByGenres(v);h.imagesContainer.innerHTML="",e.length&&h.imagesContainer.insertAdjacentHTML("afterbegin",e.map(o.createMarkupElement).join("")),f(n,i)}catch(e){console.log(e)}}c.forEach((e=>{const n=document.createElement("li");n.classList.add("filter__genre-item"),n.id=e.id,n.innerText=e.name,n.addEventListener("click",(()=>{0===v.length?(v.push(e.id),y.push(e.name)):v.includes(e.id)?v.forEach(((n,i)=>{n===e.id&&(v.splice(i,1),y.splice(i,1))})):(v.push(e.id),y.push(e.name)),b(),document.querySelectorAll(".filter__genre-item").forEach((e=>{e.classList.remove("filter__genre-item--highlight")})),0!==v.length?(h.filterClear.classList.remove("filter--hidden"),v.forEach((e=>{document.getElementById(e).classList.add("filter__genre-item--highlight")}))):(h.filterClear.classList.add("filter--hidden"),u()),0!==y.length?1!==y.length?y.length>1&&(h.filterSelectBtn.innerHTML=y[0]+"..."):h.filterSelectBtn.innerHTML=y[0]:h.filterSelectBtn.innerHTML="Select genre"})),h.filterGenreList.append(n)})),h.filterClear.addEventListener("click",(function(){0!=v.length&&v.forEach((e=>{document.getElementById(e).classList.remove("filter__genre-item--highlight")}));v=[],y=[],h.filterClear.classList.add("filter--hidden"),h.filterContainer.classList.remove("filter--active"),h.filterSelectBtn.innerHTML="Select genre",u()})),h.filterSelectBtn.addEventListener("click",(function(){h.filterContainer.classList.toggle("filter--active")}));var k=t("b3J8n");const w=(0,a.default)(),E=new(0,s.default);document.addEventListener("DOMContentLoaded",(()=>{!async function(){try{const{results:e,total_results:n,page:i}=await E.fetchTrendWeekMovies();e.length&&w.imagesContainer.insertAdjacentHTML("afterbegin",e.map(o.createMarkupElement).join("")),(0,k.makeSkeletonLoader)()}catch(e){console.log(e)}}()})),w.imagesContainer.addEventListener("click",(function(e){if(e.target.classList.contains("gallery__img")){e.preventDefault();const n=e.target.dataset.movieId;(0,l.default)(n)}})),r();
//# sourceMappingURL=index.91931706.js.map
