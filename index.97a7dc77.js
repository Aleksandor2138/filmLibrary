var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n);var r=n("lpPzL"),l=n("E9a0y"),a=n("93cIg"),o=n("2sqY3");n("lHYFr");var c=n("6mLAN");o=n("2sqY3");const s=(0,(r=n("lpPzL")).default)();let d=[],f=[];function u(){0!==d.length&&d.forEach((e=>{document.getElementById(e).classList.remove("filter__genre-item--highlight")})),d=[],f=[],s.filterClear.classList.add("filter--hidden"),s.filterSelectBtn.innerHTML="Select genre"}function m(){o.moviesApi.currentPage=1,o.moviesApi.currentFetch=o.moviesApi.fetchTrendWeekMovies,o.customPagination.moveToPage(o.moviesApi.currentPage)}!async function(){try{(await o.moviesApi.getAllGenres()).forEach((e=>{const t=document.createElement("li");t.classList.add("filter__genre-item"),t.id=e.id,t.innerText=e.name,t.addEventListener("click",(()=>{0===d.length?(d.push(e.id),f.push(e.name)):d.includes(e.id)?d.forEach(((t,i)=>{t===e.id&&(d.splice(i,1),f.splice(i,1))})):(d.push(e.id),f.push(e.name)),s.searchInput.value="",o.moviesApi.currentPage=1,o.moviesApi.genres=d,o.moviesApi.currentFetch=o.moviesApi.fetchMovieByGenres,o.customPagination.moveToPage(o.moviesApi.currentPage),document.querySelectorAll(".filter__genre-item").forEach((e=>{e.classList.remove("filter__genre-item--highlight")})),0!==d.length?(s.filterClear.classList.remove("filter--hidden"),d.forEach((e=>{document.getElementById(e).classList.add("filter__genre-item--highlight")}))):(s.filterClear.classList.add("filter--hidden"),m()),function(){if(0===f.length)return void(s.filterSelectBtn.innerHTML="Select genre");if(1===f.length)return void(s.filterSelectBtn.innerHTML=f[0]);if(f.length>1)s.filterSelectBtn.innerHTML=f[0]+"..."}()})),s.filterGenreList.append(t)}))}catch(e){}}(),s.filterClear.addEventListener("click",(function(){u(),m()})),s.filterSelectBtn.addEventListener("click",(function(){s.filterWrap.classList.toggle("filter--active")})),document.onclick=function(e){s.filterWrap.contains(e.target)||s.filterWrap.classList.remove("filter--active")},n("gjiCh");r=n("lpPzL"),o=n("2sqY3");const v=(0,r.default)();var g=n("bMZn5");g=n("bMZn5");const p=(0,r.default)();document.addEventListener("DOMContentLoaded",(()=>{o.moviesApi.currentFetch=o.moviesApi.fetchTrendWeekMovies,o.customPagination.moveToPage(o.moviesApi.currentPage)})),p.imagesContainer.addEventListener("click",(async function(e){if(e.target.classList.contains("gallery__img")){e.preventDefault();const t=e.target.dataset.movieId;await(0,l.default)(o.moviesApi.fetchMovieByID(t));const i=document.querySelectorAll(".auth-required");(0,g.default)(i)}})),(0,a.default)(),p.searchForm.addEventListener("submit",(function(e){e.preventDefault(),u(),o.moviesApi.query=v.searchInput.value,o.moviesApi.currentFetch=o.moviesApi.fetchMovieQuery,o.customPagination.moveToPage(o.moviesApi.currentPage)})),(0,c.default)();
//# sourceMappingURL=index.97a7dc77.js.map
