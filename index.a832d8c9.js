var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var a=i[e];delete i[e];var t={id:e,exports:{}};return n[e]=t,a.call(t.exports,t,t.exports),t.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,n){i[e]=n},e.parcelRequired7c6=a);var t=a("lpPzL"),l=a("E9a0y"),r=a("93cIg"),s=a("cky31"),o=a("2Di0R");a("lHYFr");var c=a("6mLAN");const d=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];s=a("cky31"),o=a("2Di0R"),t=a("lpPzL"),s=a("cky31");a("b3J8n");const g=(0,t.default)(),m=new(0,o.default);document.addEventListener("DOMContentLoaded",(()=>{p()}));let u=1;async function p(){try{const{results:e,page:n,total_pages:i}=await m.fetchTrendWeekMovies();g.imagesContainer.innerHTML="",e.length&&g.imagesContainer.insertAdjacentHTML("afterbegin",e.map(s.createMarkupElement).join("")),function(e,n){u=e;let i="",a=e-2,t=e-1,l=e+2,r=e+1;e>1&&(i+='<li class="pagination__arrow pagination__arrow--left materials-icons">&larr;</li>');e>2&&(i+='<li class="pagination__number display-none">1</li>');e>4&&(i+='<li class="pagination__number display-none">...</li>');e>3&&(i+=`<li class="pagination__number">${a}</li>`);e>=2&&(i+=`<li class="pagination__number">${t}</li>`);i+=`<li class="pagination__number active">${e}</li>`,e<n-1&&(i+=`<li class="pagination__number">${r}</li>`);e<n-2&&(i+=`<li class="pagination__number">${l}</li>`);e<=n-1&&(e<n-3&&(i+='<li class="pagination__number display-none">...</li>'),i+=`<li class="pagination__number display-none">${n}</li>`);e<n&&(i+="<li class='pagination__arrow pagination__arrow--right materials-icons'>&rarr;</li>");g.paginationList.innerHTML=i,g.paginationList.addEventListener("click",f)}(n,i)}catch(e){console.log(e)}}function f(e){if("LI"!==e.target.nodeName)return;const n=e.target.textContent;switch(window.scrollTo({top:240,behavior:"smooth"}),n){case"←":m.previousPage();break;case"→":m.nextPage();break;case"...":break;default:m.eventPage(n)}p()}function _(e,n){u=e;let i="";e>1&&(i+='<li class="pagination__arrow pagination__arrow--left materials-icons">&larr;</li>'),e>2&&(i+='<li class="pagination__number display-none">1</li>'),e>4&&(i+='<li class="pagination__number display-none">...</li>'),e>3&&(i+=`<li class="pagination__number">${e-2}</li>`),e>=2&&(i+=`<li class="pagination__number">${e-1}</li>`),i+=`<li class="pagination__number active">${e}</li>`,e<n-1&&(i+=`<li class="pagination__number">${e+1}</li>`),e<n-2&&(i+=`<li class="pagination__number">${e+2}</li>`),e<=n-1&&(e<n-3&&(i+='<li class="pagination__number display-none">...</li>'),i+=`<li class="pagination__number display-none">${n}</li>`),e<n&&(i+="<li class='pagination__arrow pagination__arrow--right materials-icons'>&rarr;</li>"),g.paginationList.innerHTML=i,g.paginationList.addEventListener("click",h)}function h(e){if("LI"!==e.target.nodeName)return;const n=e.target.textContent;switch(window.scrollTo({top:240,behavior:"smooth"}),n){case"←":m.previousPage();break;case"→":m.nextPage();break;case"...":break;default:m.eventPage(n)}w()}o=a("2Di0R"),t=a("lpPzL");const L=new(0,o.default),b=(0,t.default)();let v=[],y=[];async function w(){try{const{results:e,page:n,total_pages:i}=await L.fetchMovieByGenres(v);b.imagesContainer.innerHTML="",e.length&&b.imagesContainer.insertAdjacentHTML("afterbegin",e.map(s.createMarkupElement).join("")),_(n,i)}catch(e){console.log(e)}}d.forEach((e=>{const n=document.createElement("li");n.classList.add("filter__genre-item"),n.id=e.id,n.innerText=e.name,n.addEventListener("click",(()=>{0===v.length?(v.push(e.id),y.push(e.name)):v.includes(e.id)?v.forEach(((n,i)=>{n===e.id&&(v.splice(i,1),y.splice(i,1))})):(v.push(e.id),y.push(e.name)),w(),document.querySelectorAll(".filter__genre-item").forEach((e=>{e.classList.remove("filter__genre-item--highlight")})),0!==v.length?(b.filterClear.classList.remove("filter--hidden"),v.forEach((e=>{document.getElementById(e).classList.add("filter__genre-item--highlight")}))):(b.filterClear.classList.add("filter--hidden"),p()),0!==y.length?1!==y.length?y.length>1&&(b.filterSelectBtn.innerHTML=y[0]+"..."):b.filterSelectBtn.innerHTML=y[0]:b.filterSelectBtn.innerHTML="Select genre"})),b.filterGenreList.append(n)})),b.filterClear.addEventListener("click",(function(){0!=v.length&&v.forEach((e=>{document.getElementById(e).classList.remove("filter__genre-item--highlight")}));v=[],y=[],b.filterClear.classList.add("filter--hidden"),b.filterSelectBtn.innerHTML="Select genre",p()})),b.filterSelectBtn.addEventListener("click",(function(){b.filterWrap.classList.toggle("filter--active")}));var M=a("b3J8n");a("2shzp");t=a("lpPzL"),s=a("cky31"),M=a("b3J8n"),o=a("2Di0R");const k=(0,t.default)(),T=new(0,o.default);a("bMZn5");const E=(0,t.default)(),C=new(0,o.default);document.addEventListener("DOMContentLoaded",(()=>{!async function(){try{const{results:e,total_results:n,page:i}=await C.fetchTrendWeekMovies();e.length&&E.imagesContainer.insertAdjacentHTML("afterbegin",e.map(s.createMarkupElement).join("")),(0,M.makeSkeletonLoader)()}catch(e){console.log(e)}}()})),E.imagesContainer.addEventListener("click",(function(e){if(e.target.classList.contains("gallery__img")){e.preventDefault();const n=e.target.dataset.movieId;(0,l.default)(n)}})),(0,r.default)(),E.searchForm.addEventListener("submit",(async function(e){e.preventDefault(),await async function(e){try{T.query=e;const{results:n,total_results:i,page:a}=await T.fetchMovieQuery();n.length&&k.imagesContainer.insertAdjacentHTML("afterbegin",n.map(s.createMarkupElement).join(""));const t=createPagination();t.setItemsPerPage(20),t.setTotalItems(i),t.movePageTo(a),t.on("afterMove",(e=>{e.page;window.scrollTo({top:240,behavior:"smooth"})})),n.length&&k.imagesContainer.insertAdjacentHTML("afterbegin",n.map(s.createMarkupElement).join("")),(0,M.makeSkeletonLoader)()}catch(e){console.log(e)}}(k.searchInput.value)})),(0,c.default)();
//# sourceMappingURL=index.a832d8c9.js.map
