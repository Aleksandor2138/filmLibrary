!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){a[e]=n},n.parcelRequired7c6=i);var r=i("bpxeT"),l=i("2TvXO"),o=i("3vKGz"),s=i("gBkTQ"),c=i("2EooH"),u=i("5118m"),d=i("KcxNJ");i("5jy86");var p=i("d43SW"),f=(r=i("bpxeT"),l=i("2TvXO"),[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]);u=i("5118m"),r=i("bpxeT"),l=i("2TvXO"),d=i("KcxNJ"),o=i("3vKGz"),u=i("5118m");i("9iflO");var m=(0,o.default)(),g=new(0,d.default);document.addEventListener("DOMContentLoaded",(function(){v(1)}));function v(){return _.apply(this,arguments)}function _(){return(_=e(r)(e(l).mark((function n(){var t,a,i,r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.fetchTrendWeekMovies();case 3:t=e.sent,a=t.results,i=t.page,r=t.total_pages,m.imagesContainer.innerHTML="",a.length&&m.imagesContainer.insertAdjacentHTML("afterbegin",a.map(u.createMarkupElement).join("")),h(i,r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}function h(e,n){e;var t="",a=e-1,i=e+2,r=e+1;e>1&&(t+='<li class="pagination__arrow pagination__arrow--left materials-icons">&larr;</li>'),e>2&&(t+='<li class="pagination__number display-none">1</li>'),e>4&&(t+='<li class="pagination__number display-none">...</li>'),e>3&&(t+='<li class="pagination__number">'.concat(e-2,"</li>")),e>=2&&(t+='<li class="pagination__number">'.concat(a,"</li>")),t+='<li class="pagination__number active">'.concat(e,"</li>"),e<n-1&&(t+='<li class="pagination__number">'.concat(r,"</li>")),e<n-2&&(t+='<li class="pagination__number">'.concat(i,"</li>")),e<=n-1&&(e<n-3&&(t+='<li class="pagination__number display-none">...</li>'),t+='<li class="pagination__number display-none">'.concat(n,"</li>")),e<n&&(t+="<li class='pagination__arrow pagination__arrow--right materials-icons'>&rarr;</li>"),m.paginationList.innerHTML=t,m.paginationList.addEventListener("click",b)}function b(e){if("LI"===e.target.nodeName){var n=e.target.textContent;switch(window.scrollTo({top:240,behavior:"smooth"}),n){case"←":g.previousPage();break;case"→":g.nextPage();break;case"...":break;default:g.eventPage(n)}v()}}function L(e,n){e;var t="",a=e-1,i=e+2,r=e+1;e>1&&(t+='<li class="pagination__arrow pagination__arrow--left materials-icons">&larr;</li>'),e>2&&(t+='<li class="pagination__number display-none">1</li>'),e>4&&(t+='<li class="pagination__number display-none">...</li>'),e>3&&(t+='<li class="pagination__number">'.concat(e-2,"</li>")),e>=2&&(t+='<li class="pagination__number">'.concat(a,"</li>")),t+='<li class="pagination__number active">'.concat(e,"</li>"),e<n-1&&(t+='<li class="pagination__number">'.concat(r,"</li>")),e<n-2&&(t+='<li class="pagination__number">'.concat(i,"</li>")),e<=n-1&&(e<n-3&&(t+='<li class="pagination__number display-none">...</li>'),t+='<li class="pagination__number display-none">'.concat(n,"</li>")),e<n&&(t+="<li class='pagination__arrow pagination__arrow--right materials-icons'>&rarr;</li>"),m.paginationList.innerHTML=t,m.paginationList.addEventListener("click",y)}function y(e){if("LI"===e.target.nodeName){var n=e.target.textContent;switch(window.scrollTo({top:240,behavior:"smooth"}),n){case"←":g.previousPage();break;case"→":g.nextPage();break;case"...":break;default:g.eventPage(n)}M()}}d=i("KcxNJ"),o=i("3vKGz");var w=new(0,d.default),T=(0,o.default)(),x=[],k=[];function M(){return E.apply(this,arguments)}function E(){return(E=e(r)(e(l).mark((function n(){var t,a,i,r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.fetchMovieByGenres(x);case 3:t=e.sent,a=t.results,i=t.page,r=t.total_pages,T.imagesContainer.innerHTML="",a.length&&T.imagesContainer.insertAdjacentHTML("afterbegin",a.map(u.createMarkupElement).join("")),L(i,r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}f.forEach((function(e){var n=document.createElement("li");n.classList.add("filter__genre-item"),n.id=e.id,n.innerText=e.name,n.addEventListener("click",(function(){0===x.length?(x.push(e.id),k.push(e.name)):x.includes(e.id)?x.forEach((function(n,t){n===e.id&&(x.splice(t,1),k.splice(t,1))})):(x.push(e.id),k.push(e.name)),M(),document.querySelectorAll(".filter__genre-item").forEach((function(e){e.classList.remove("filter__genre-item--highlight")})),0!==x.length?(T.filterClear.classList.remove("filter--hidden"),x.forEach((function(e){document.getElementById(e).classList.add("filter__genre-item--highlight")}))):(T.filterClear.classList.add("filter--hidden"),v()),0!==k.length?1!==k.length?k.length>1&&(T.filterSelectBtn.innerHTML=k[0]+"..."):T.filterSelectBtn.innerHTML=k[0]:T.filterSelectBtn.innerHTML="Select genre"})),T.filterGenreList.append(n)})),T.filterClear.addEventListener("click",(function(){0!=x.length&&x.forEach((function(e){document.getElementById(e).classList.remove("filter__genre-item--highlight")}));x=[],k=[],T.filterClear.classList.add("filter--hidden"),T.filterContainer.classList.remove("filter--active"),T.filterSelectBtn.innerHTML="Select genre",v()})),T.filterSelectBtn.addEventListener("click",(function(){T.filterContainer.classList.toggle("filter--active")}));var C=i("9iflO");r=i("bpxeT"),l=i("2TvXO");i("dIxxU");o=i("3vKGz"),u=i("5118m"),C=i("9iflO"),d=i("KcxNJ");var H=(0,o.default)(),O=new(0,d.default);function S(){return(S=e(r)(e(l).mark((function n(t){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j(H.searchInput.value);case 3:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function j(e){return P.apply(this,arguments)}function P(){return(P=e(r)(e(l).mark((function n(t){var a,i,r,o,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O.query=t,e.next=4,O.fetchMovieQuery();case 4:a=e.sent,i=a.results,r=a.total_results,o=a.page,i.length&&H.imagesContainer.insertAdjacentHTML("afterbegin",i.map(u.createMarkupElement).join("")),(s=createPagination()).setItemsPerPage(20),s.setTotalItems(r),s.movePageTo(o),s.on("afterMove",(function(e){e.page;window.scrollTo({top:240,behavior:"smooth"})})),i.length&&H.imagesContainer.insertAdjacentHTML("afterbegin",i.map(u.createMarkupElement).join("")),(0,C.makeSkeletonLoader)(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),n,null,[[0,18]])})))).apply(this,arguments)}i("euqRf");var A=(0,o.default)(),B=new(0,d.default);function I(){return(I=e(r)(e(l).mark((function n(){var t,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.fetchTrendWeekMovies();case 3:t=e.sent,a=t.results,t.total_results,t.page,a.length&&A.imagesContainer.insertAdjacentHTML("afterbegin",a.map(u.createMarkupElement).join("")),(0,C.makeSkeletonLoader)(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){!function(){I.apply(this,arguments)}()})),A.imagesContainer.addEventListener("click",(function(e){if(e.target.classList.contains("gallery__img")){e.preventDefault();var n=e.target.dataset.movieId;(0,s.default)(n)}})),(0,c.default)(),A.searchForm.addEventListener("submit",(function(e){return S.apply(this,arguments)})),(0,p.default)()}();
//# sourceMappingURL=index.51af334e.js.map
