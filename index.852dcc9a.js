var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n);var r=n("lpPzL"),l=n("E9a0y"),o=n("93cIg"),a=n("2sqY3");n("lHYFr");var c=n("6mLAN");a=n("2sqY3");const s=(0,(r=n("lpPzL")).default)();let d=[],f=[];function u(){0!==d.length&&d.forEach((e=>{document.getElementById(e).classList.remove("filter__genre-item--highlight")})),d=[],f=[],s.filterClear.classList.add("filter--hidden"),s.filterSelectBtn.innerHTML="Select genre"}function m(){a.moviesApi.currentPage=1,a.moviesApi.currentFetch=a.moviesApi.fetchTrendWeekMovies,a.customPagination.moveToPage(a.moviesApi.currentPage)}!async function(){try{(await a.moviesApi.getAllGenres()).forEach((e=>{const t=document.createElement("li");t.classList.add("filter__genre-item"),t.id=e.id,t.innerText=e.name,t.addEventListener("click",(()=>{0===d.length?(d.push(e.id),f.push(e.name)):d.includes(e.id)?d.forEach(((t,i)=>{t===e.id&&(d.splice(i,1),f.splice(i,1))})):(d.push(e.id),f.push(e.name)),s.searchInput.value="",a.moviesApi.currentPage=1,a.moviesApi.genres=d,a.moviesApi.currentFetch=a.moviesApi.fetchMovieByGenres,a.customPagination.moveToPage(a.moviesApi.currentPage),document.querySelectorAll(".filter__genre-item").forEach((e=>{e.classList.remove("filter__genre-item--highlight")})),0!==d.length?(s.filterClear.classList.remove("filter--hidden"),d.forEach((e=>{document.getElementById(e).classList.add("filter__genre-item--highlight")}))):(s.filterClear.classList.add("filter--hidden"),m()),function(){if(0===f.length)return void(s.filterSelectBtn.innerHTML="Select genre");if(1===f.length)return void(s.filterSelectBtn.innerHTML=f[0]);if(f.length>1)s.filterSelectBtn.innerHTML=f[0]+"..."}()})),s.filterGenreList.append(t)}))}catch(e){}}(),s.filterClear.addEventListener("click",(function(){u(),m()})),s.filterSelectBtn.addEventListener("click",(function(){s.filterWrap.classList.toggle("filter--active")})),document.onclick=function(e){s.filterWrap.contains(e.target)||s.filterWrap.classList.remove("filter--active")},n("gjiCh");r=n("lpPzL"),a=n("2sqY3");const g=(0,r.default)();n("bMZn5");const v=(0,r.default)();document.addEventListener("DOMContentLoaded",(()=>{a.moviesApi.currentFetch=a.moviesApi.fetchTrendWeekMovies,a.customPagination.moveToPage(a.moviesApi.currentPage)})),v.imagesContainer.addEventListener("click",(function(e){if(e.target.classList.contains("gallery__img")){e.preventDefault();const t=e.target.dataset.movieId;(0,l.default)(a.moviesApi.fetchMovieByID(t))}})),(0,o.default)(),v.searchForm.addEventListener("submit",(function(e){e.preventDefault(),u(),a.moviesApi.query=g.searchInput.value,a.moviesApi.currentFetch=a.moviesApi.fetchMovieQuery,a.customPagination.moveToPage(a.moviesApi.currentPage)})),(0,c.default)();
//# sourceMappingURL=index.852dcc9a.js.map
