{"mappings":"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","sources":["src/index.js","src/js/genres-names.js","src/js/filter.js","src/js/pagination.js","src/js/onSearch.js"],"sourcesContent":["// import Notiflix from 'notiflix';\n// import axios from 'axios';\nimport getRefs from './js/get-refs';\n// import renderMarkupImageInfo from './renderMarkup';\nimport openMovieDetails from './js/movie-details-open';\nimport footerModal from './js/footer-modal-open';\nimport { createMarkupElement } from './js/renderMarkup';\nimport MoviesApi from './js/moviesApi';\nimport './js/nightMode';\nimport topUp from './js/top.js';\nimport './js/filter';\n\nimport { makeSkeletonLoader } from './js/skeleton-loader';\nimport onSearch from './js/onSearch';\n\nimport renderPagination from './js/pagination';\n\n// import userAuth from './js/auth'\n// import authListnener from './js/auth';\n\nconst refs = getRefs();\n\nconst moviesApi = new MoviesApi();\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchTrendMovies();\n});\n\n// ------------ OPEN MOVIE MODAL --------------------\n\nrefs.imagesContainer.addEventListener('click', onMovieCardClick);\nfunction onMovieCardClick(e) {\n  if (e.target.classList.contains('gallery__img')) {\n    e.preventDefault();\n    const movieId = e.target.dataset.movieId;\n    openMovieDetails(movieId);\n  }\n}\n// ---------- OPEN MOVIE MODAL END -------------------\n\nfooterModal();\n\nasync function fetchTrendMovies() {\n  try {\n    const { results, total_results, page } =\n      await moviesApi.fetchTrendWeekMovies();\n\n    results.length &&\n      refs.imagesContainer.insertAdjacentHTML(\n        'afterbegin',\n        results.map(createMarkupElement).join('')\n      );\n\n    // pagination\n    // const instance = createPagination();\n    // instance.setItemsPerPage(20);\n    // instance.setTotalItems(total_results);\n    // instance.movePageTo(page);\n\n    // instance.on('afterMove', event => {\n    //   const currentPage = event.page;\n    //   window.scrollTo({ top: 240, behavior: 'smooth' });\n    // });\n\n    // results.length &&\n    //   refs.imagesContainer.insertAdjacentHTML(\n    //     'afterbegin',\n    //     results.map(createMarkupElement).join('')\n    //   );\n\n    // Skeleton\n    makeSkeletonLoader();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nrefs.searchForm.addEventListener('submit', onSearch);\ntopUp();\n","export const genresNames = [\n  {\n    id: 28,\n    name: 'Action',\n  },\n  {\n    id: 12,\n    name: 'Adventure',\n  },\n  {\n    id: 16,\n    name: 'Animation',\n  },\n  {\n    id: 35,\n    name: 'Comedy',\n  },\n  {\n    id: 80,\n    name: 'Crime',\n  },\n  {\n    id: 99,\n    name: 'Documentary',\n  },\n  {\n    id: 18,\n    name: 'Drama',\n  },\n  {\n    id: 10751,\n    name: 'Family',\n  },\n  {\n    id: 14,\n    name: 'Fantasy',\n  },\n  {\n    id: 36,\n    name: 'History',\n  },\n  {\n    id: 27,\n    name: 'Horror',\n  },\n  {\n    id: 10402,\n    name: 'Music',\n  },\n  {\n    id: 9648,\n    name: 'Mystery',\n  },\n  {\n    id: 10749,\n    name: 'Romance',\n  },\n  {\n    id: 878,\n    name: 'Science Fiction',\n  },\n  {\n    id: 10770,\n    name: 'TV Movie',\n  },\n  {\n    id: 53,\n    name: 'Thriller',\n  },\n  {\n    id: 10752,\n    name: 'War',\n  },\n  {\n    id: 37,\n    name: 'Western',\n  },\n];","import { genresNames } from './genres-names';\nimport { createMarkupElement } from './renderMarkup';\nimport { fetchTrendMovies } from './pagination';\nimport MoviesApi from './moviesApi';\nimport getRefs from './get-refs';\nimport { renderPaginationbyGenre } from './pagination';\n\nconst moviesApi = new MoviesApi();\nconst refs = getRefs();\n\n// set genres\nlet selectedGenre = [];\nlet selectedGenreName = [];\nsetGenre();\n\nfunction setGenre() {\n  genresNames.forEach(genre => {\n    const elem = document.createElement('li');\n    elem.classList.add('filter__genre-item');\n    elem.id = genre.id;\n    elem.innerText = genre.name;\n    elem.addEventListener('click', () => {\n      if (selectedGenre.length === 0) {\n        selectedGenre.push(genre.id);\n        selectedGenreName.push(genre.name);\n      } else {\n        if (selectedGenre.includes(genre.id)) {\n          selectedGenre.forEach((id, index) => {\n            if (id === genre.id) {\n              selectedGenre.splice(index, 1);\n              selectedGenreName.splice(index, 1);\n            }\n          });\n        } else {\n          selectedGenre.push(genre.id);\n          selectedGenreName.push(genre.name);\n        }\n      }\n      showMovies();\n      highlightSelection();\n      updateFilterSelectBtn();\n    });\n    refs.filterGenreList.append(elem);\n  });\n}\n\n// highlight selected genre\nfunction highlightSelection() {\n  const genres = document.querySelectorAll('.filter__genre-item');\n  genres.forEach(genre => {\n    genre.classList.remove('filter__genre-item--highlight');\n  });\n  if (selectedGenre.length !== 0) {\n    refs.filterClear.classList.remove('filter--hidden');\n    selectedGenre.forEach(id => {\n      const filterHighlightedGenre = document.getElementById(id);\n      filterHighlightedGenre.classList.add('filter__genre-item--highlight');\n    });\n  } else {\n    refs.filterClear.classList.add('filter--hidden');\n    fetchTrendMovies();\n  }\n}\n\n// render movies by genre\n\nexport async function showMovies() {\n  try {\n    const { results, page, total_pages } = await moviesApi.fetchMovieByGenres(\n      selectedGenre\n    );\n    refs.imagesContainer.innerHTML = '';\n\n    results.length &&\n      refs.imagesContainer.insertAdjacentHTML(\n        'afterbegin',\n        results.map(createMarkupElement).join('')\n      );\n    renderPaginationbyGenre(page, total_pages);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// clear filter\nrefs.filterClear.addEventListener('click', onFilterClearBtn);\n\nfunction onFilterClearBtn() {\n  if (selectedGenre.length != 0) {\n    selectedGenre.forEach(id => {\n      const filterHighlightedGenre = document.getElementById(id);\n      filterHighlightedGenre.classList.remove('filter__genre-item--highlight');\n    });\n  }\n  selectedGenre = [];\n  selectedGenreName = [];\n  refs.filterClear.classList.add('filter--hidden');\n  refs.filterContainer.classList.remove('filter--active');\n  refs.filterSelectBtn.innerHTML = 'Select genre';\n  fetchTrendMovies();\n}\n\n// custom select\nrefs.filterSelectBtn.addEventListener('click', onFilterSelectBtn);\n\nfunction onFilterSelectBtn() {\n  refs.filterContainer.classList.toggle('filter--active');\n}\n\nfunction updateFilterSelectBtn() {\n  if (selectedGenreName.length === 0) {\n    refs.filterSelectBtn.innerHTML = 'Select genre';\n    return;\n  }\n  if (selectedGenreName.length === 1) {\n    refs.filterSelectBtn.innerHTML = selectedGenreName[0];\n    return;\n  }\n  if (selectedGenreName.length > 1) {\n    refs.filterSelectBtn.innerHTML = selectedGenreName[0] + '...';\n    return;\n  }\n}\n","import MoviesApi from './moviesApi';\nimport getRefs from './get-refs';\nimport { createMarkupElement } from './renderMarkup';\nimport { showMovies } from './filter';\nimport { makeSkeletonLoader } from './skeleton-loader';\n\nconst refs = getRefs();\nconst moviesApi = new MoviesApi();\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchTrendMovies(1);\n});\n\nlet currentPage = 1;\n\nexport async function fetchTrendMovies() {\n  try {\n    const { results, page, total_pages } = await moviesApi.fetchTrendWeekMovies();\n    refs.imagesContainer.innerHTML = '';\n\n    results.length &&\n      refs.imagesContainer.insertAdjacentHTML(\n        'afterbegin',\n        results.map(createMarkupElement).join('')\n      );\n      renderPagination(page, total_pages);\n   \n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function renderPagination(page, totalPage) {\n  currentPage = page;\n  let paginationMarkup = '';\n  let beforeTwoPage = page - 2;\n  let beforePage = page - 1;\n  let afterTwoPage = page + 2;\n  let afterPage = page + 1;\n\n  if (page > 1) {\n    paginationMarkup += `<li class=\"pagination__arrow pagination__arrow--left materials-icons\">&larr;</li>`;\n  }\n  if (page > 2) {\n    paginationMarkup += `<li class=\"pagination__number display-none\">1</li>`;\n  }\n  if (page > 4) {\n    paginationMarkup += `<li class=\"pagination__number display-none\">...</li>`;\n  }\n\n  if (page > 3) {\n    paginationMarkup += `<li class=\"pagination__number\">${beforeTwoPage}</li>`;\n  }\n\n  if (page >= 2) {\n    paginationMarkup += `<li class=\"pagination__number\">${beforePage}</li>`;\n  }\n\n  paginationMarkup += `<li class=\"pagination__number active\">${page}</li>`;\n  if (page < totalPage - 1) {\n    paginationMarkup += `<li class=\"pagination__number\">${afterPage}</li>`;\n  }\n  if (page < totalPage - 2) {\n    paginationMarkup += `<li class=\"pagination__number\">${afterTwoPage}</li>`;\n  }\n  if (page <= totalPage - 1) {\n    if (page < totalPage - 3) {\n      paginationMarkup += `<li class=\"pagination__number display-none\">...</li>`;\n    }\n    paginationMarkup += `<li class=\"pagination__number display-none\">${totalPage}</li>`;\n  }\n\n  if (page < totalPage) {\n    paginationMarkup += `<li class='pagination__arrow pagination__arrow--right materials-icons'>&rarr;</li>`;\n  }\n  refs.paginationList.innerHTML = paginationMarkup;\n\n  refs.paginationList.addEventListener('click', onPagination);\n}\n\n\nexport function onPagination(e) {\n  if (e.target.nodeName !== `LI`) {\n    return;\n  }\n  const target = e.target.textContent;\n  \n  window.scrollTo({ top: 240, behavior: 'smooth' });\n  switch (target) {\n    case '←':\n      moviesApi.previousPage()\n      break;\n    case '→':\n      moviesApi.nextPage()\n      break;\n\n    case '...':\n      break;\n\n    default:\n      moviesApi.eventPage(target) \n  }\nfetchTrendMovies()\n}\n\nexport function renderPaginationbyGenre(page, totalPage) {\n  currentPage = page;\n  let paginationMarkup = '';\n  let beforeTwoPage = page - 2;\n  let beforePage = page - 1;\n  let afterTwoPage = page + 2;\n  let afterPage = page + 1;\n\n  if (page > 1) {\n    paginationMarkup += `<li class=\"pagination__arrow pagination__arrow--left materials-icons\">&larr;</li>`;\n  }\n  if (page > 2) {\n    paginationMarkup += `<li class=\"pagination__number display-none\">1</li>`;\n  }\n  if (page > 4) {\n    paginationMarkup += `<li class=\"pagination__number display-none\">...</li>`;\n  }\n\n  if (page > 3) {\n    paginationMarkup += `<li class=\"pagination__number\">${beforeTwoPage}</li>`;\n  }\n\n  if (page >= 2) {\n    paginationMarkup += `<li class=\"pagination__number\">${beforePage}</li>`;\n  }\n\n  paginationMarkup += `<li class=\"pagination__number active\">${page}</li>`;\n  if (page < totalPage - 1) {\n    paginationMarkup += `<li class=\"pagination__number\">${afterPage}</li>`;\n  }\n  if (page < totalPage - 2) {\n    paginationMarkup += `<li class=\"pagination__number\">${afterTwoPage}</li>`;\n  }\n  if (page <= totalPage - 1) {\n    if (page < totalPage - 3) {\n      paginationMarkup += `<li class=\"pagination__number display-none\">...</li>`;\n    }\n    paginationMarkup += `<li class=\"pagination__number display-none\">${totalPage}</li>`;\n  }\n\n  if (page < totalPage) {\n    paginationMarkup += `<li class='pagination__arrow pagination__arrow--right materials-icons'>&rarr;</li>`;\n  }\n  refs.paginationList.innerHTML = paginationMarkup;\n\n  refs.paginationList.addEventListener('click', onPaginationbyGenre);\n}\n\nexport function onPaginationbyGenre(e) {\n  if (e.target.nodeName !== `LI`) {\n    return;\n  }\n  const target = e.target.textContent;\n\n  window.scrollTo({ top: 240, behavior: 'smooth' });\n  switch (target) {\n    case '←':\n      moviesApi.previousPage();\n      break;\n    case '→':\n      moviesApi.nextPage();\n      break;\n\n    case '...':\n      break;\n\n    default:\n      moviesApi.eventPage(target);\n  }\n  showMovies();\n}\n","\nimport axios from 'axios';\nimport getRefs from './get-refs';\nimport { createMarkupElement } from './renderMarkup.js';\nimport { makeSkeletonLoader } from './skeleton-loader.js';\nimport MoviesApi from './moviesApi.js';\n// import createPagination from './pagination.js';\n\n\nconst refs = getRefs();\n\nconst moviesApi = new MoviesApi();\n\nexport default  async function  onSearch (e) {\n    e.preventDefault();\n    await  fetchQMovies(refs.searchInput.value)\n \n}\n\n\nasync function fetchQMovies(q) {\n  try {\n    moviesApi.query = q;\n    const { results, total_results, page } =\n      await moviesApi.fetchMovieQuery();\n\n    results.length &&\n      refs.imagesContainer.insertAdjacentHTML(\n        'afterbegin',\n        results.map(createMarkupElement).join('')\n      );\n\n    //  // pagination\n    const instance = createPagination();\n    instance.setItemsPerPage(20);\n    instance.setTotalItems(total_results);\n    instance.movePageTo(page);\n\n    instance.on('afterMove', event => {\n      const currentPage = event.page;\n      window.scrollTo({ top: 240, behavior: 'smooth' });\n    });\n\n    results.length &&\n      refs.imagesContainer.insertAdjacentHTML(\n        'afterbegin',\n        results.map(createMarkupElement).join('')\n      );\n\n    // Skeleton\n    makeSkeletonLoader();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n\n"],"names":["$bpxeT","parcelRequire","$cbdeeb5a467f6f69$export$fb4fbcb7823c4459","id","name","$dfaf77c789ce7a24$var$refs","$3vKGz","default","$dfaf77c789ce7a24$var$moviesApi","$KcxNJ","document","addEventListener","$dfaf77c789ce7a24$export$c798854e734872f","$dfaf77c789ce7a24$var$_fetchTrendMovies","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","ref","results","page","total_pages","fetchTrendWeekMovies","_ctx","sent","imagesContainer","innerHTML","length","insertAdjacentHTML","map","$5118m","createMarkupElement","join","$dfaf77c789ce7a24$export$825408fbca4f2040","console","log","t0","totalPage","paginationMarkup","beforePage","afterTwoPage","afterPage","concat","paginationList","$dfaf77c789ce7a24$export$616bef9d63e4912c","e","target","nodeName","textContent","window","scrollTo","top","behavior","previousPage","nextPage","eventPage","$dfaf77c789ce7a24$export$98031b76d2cdf7d4","$dfaf77c789ce7a24$export$650b7bd3b027b8fd","$6142fea1849c7fbd$export$ee74f1750741a03b","$6142fea1849c7fbd$var$moviesApi","$6142fea1849c7fbd$var$refs","$6142fea1849c7fbd$var$selectedGenre","$6142fea1849c7fbd$var$selectedGenreName","$6142fea1849c7fbd$var$_showMovies","fetchMovieByGenres","forEach","genre","elem","createElement","classList","add","innerText","push","includes","index","splice","querySelectorAll","remove","filterClear","getElementById","filterSelectBtn","filterGenreList","append","filterContainer","toggle","$749ffb571b0aa3a9$var$refs","$749ffb571b0aa3a9$var$moviesApi","$749ffb571b0aa3a9$var$_onSearch","preventDefault","$749ffb571b0aa3a9$var$fetchQMovies","searchInput","value","q","$749ffb571b0aa3a9$var$_fetchQMovies","total_results","instance","query","fetchMovieQuery","createPagination","setItemsPerPage","setTotalItems","movePageTo","on","event","$9iflO","makeSkeletonLoader","$b8f9b7833fa37166$var$refs","$b8f9b7833fa37166$var$moviesApi","$b8f9b7833fa37166$var$_fetchTrendMovies","$b8f9b7833fa37166$var$fetchTrendMovies","contains","movieId","dataset","$gBkTQ","$2EooH","searchForm","$d43SW"],"version":3,"file":"index.3d915ceb.js.map"}