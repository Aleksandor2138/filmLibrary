!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return i[e]=r,t.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r);var c=r("3vKGz"),o=r("gBkTQ"),a=r("2EooH"),l=r("cIRAk");r("5jy86");var s=r("d43SW"),u=r("bpxeT"),f=r("2TvXO"),d=(l=r("cIRAk"),(0,(c=r("3vKGz")).default)()),v=[],m=[];function p(){return(p=e(u)(e(f).mark((function t(){return e(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.moviesApi.getAllGenres();case 3:e.sent.forEach((function(e){var t=document.createElement("li");t.classList.add("filter__genre-item"),t.id=e.id,t.innerText=e.name,t.addEventListener("click",(function(){0===v.length?(v.push(e.id),m.push(e.name)):v.includes(e.id)?v.forEach((function(t,i){t===e.id&&(v.splice(i,1),m.splice(i,1))})):(v.push(e.id),m.push(e.name)),d.searchInput.value="",l.moviesApi.currentPage=1,l.moviesApi.genres=v,l.moviesApi.currentFetch=l.moviesApi.fetchMovieByGenres,l.customPagination.moveToPage(l.moviesApi.currentPage),g(),A()})),d.filterGenreList.append(t)})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function g(){document.querySelectorAll(".filter__genre-item").forEach((function(e){e.classList.remove("filter__genre-item--highlight")})),0!==v.length?(d.filterClear.classList.remove("filter--hidden"),v.forEach((function(e){document.getElementById(e).classList.add("filter__genre-item--highlight")}))):(d.filterClear.classList.add("filter--hidden"),L())}function h(){0!==v.length&&v.forEach((function(e){document.getElementById(e).classList.remove("filter__genre-item--highlight")})),v=[],m=[],d.filterClear.classList.add("filter--hidden"),d.filterSelectBtn.innerHTML="Select genre"}function A(){0!==m.length?1!==m.length?m.length>1&&(d.filterSelectBtn.innerHTML=m[0]+"..."):d.filterSelectBtn.innerHTML=m[0]:d.filterSelectBtn.innerHTML="Select genre"}function L(){l.moviesApi.currentPage=1,l.moviesApi.currentFetch=l.moviesApi.fetchTrendWeekMovies,l.customPagination.moveToPage(l.moviesApi.currentPage)}!function(){p.apply(this,arguments)}(),d.filterClear.addEventListener("click",(function(){h(),L()})),d.filterSelectBtn.addEventListener("click",(function(){d.filterWrap.classList.toggle("filter--active")})),document.onclick=function(e){d.filterWrap.contains(e.target)||d.filterWrap.classList.remove("filter--active")},r("kvC6y");c=r("3vKGz"),l=r("cIRAk");var E=(0,c.default)();r("euqRf");var T=(0,c.default)();document.addEventListener("DOMContentLoaded",(function(){l.moviesApi.currentFetch=l.moviesApi.fetchTrendWeekMovies,l.customPagination.moveToPage(l.moviesApi.currentPage)})),T.imagesContainer.addEventListener("click",(function(e){if(e.target.classList.contains("gallery__img")){e.preventDefault();var t=e.target.dataset.movieId;(0,o.default)(l.moviesApi.fetchMovieByID(t))}})),(0,a.default)(),T.searchForm.addEventListener("submit",(function(e){e.preventDefault(),h(),l.moviesApi.query=E.searchInput.value,l.moviesApi.currentFetch=l.moviesApi.fetchMovieQuery,l.customPagination.moveToPage(l.moviesApi.currentPage)})),(0,s.default)()}();
//# sourceMappingURL=index.26013dd8.js.map
