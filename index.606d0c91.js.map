{"mappings":"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","sources":["src/index.js","src/js/genres-names.js","src/js/pagination.js","src/js/filter.js","src/js/onSearch.js"],"sourcesContent":["// import Notiflix from 'notiflix';\n// import axios from 'axios';\nimport getRefs from './js/get-refs';\n// import renderMarkupImageInfo from './renderMarkup';\nimport openMovieDetails from './js/movie-details-open';\nimport footerModal from './js/footer-modal-open';\nimport { createMarkupElement } from './js/renderMarkup';\nimport MoviesApi from './js/moviesApi';\nimport './js/nightMode';\nimport topUp from './js/top.js';\nimport './js/filter';\n\nimport { makeSkeletonLoader } from './js/skeleton-loader';\nimport onSearch from './js/onSearch';\n\nimport renderPagination from './js/pagination';\n\nimport userAuth from './js/auth'\n\n\nconst refs = getRefs();\n\nconst moviesApi = new MoviesApi();\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchTrendMovies();\n});\n\n// ------------ OPEN MOVIE MODAL --------------------\n\nrefs.imagesContainer.addEventListener('click', onMovieCardClick);\nfunction onMovieCardClick(e) {\n  if (e.target.classList.contains('gallery__img')) {\n    e.preventDefault();\n    const movieId = e.target.dataset.movieId;\n    openMovieDetails(movieId);\n  }\n}\n// ---------- OPEN MOVIE MODAL END -------------------\n\nfooterModal();\n\nasync function fetchTrendMovies() {\n  try {\n    const { results, total_results, page } =\n      await moviesApi.fetchTrendWeekMovies();\n\n    results.length &&\n      refs.imagesContainer.insertAdjacentHTML(\n        'afterbegin',\n        results.map(createMarkupElement).join('')\n      );\n\n    // pagination\n    // const instance = createPagination();\n    // instance.setItemsPerPage(20);\n    // instance.setTotalItems(total_results);\n    // instance.movePageTo(page);\n\n    // instance.on('afterMove', event => {\n    //   const currentPage = event.page;\n    //   window.scrollTo({ top: 240, behavior: 'smooth' });\n    // });\n\n    // results.length &&\n    //   refs.imagesContainer.insertAdjacentHTML(\n    //     'afterbegin',\n    //     results.map(createMarkupElement).join('')\n    //   );\n\n    // Skeleton\n    makeSkeletonLoader();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nrefs.searchForm.addEventListener('submit', onSearch);\ntopUp();\n","export const genresNames = [\n  {\n    id: 28,\n    name: 'Action',\n  },\n  {\n    id: 12,\n    name: 'Adventure',\n  },\n  {\n    id: 16,\n    name: 'Animation',\n  },\n  {\n    id: 35,\n    name: 'Comedy',\n  },\n  {\n    id: 80,\n    name: 'Crime',\n  },\n  {\n    id: 99,\n    name: 'Documentary',\n  },\n  {\n    id: 18,\n    name: 'Drama',\n  },\n  {\n    id: 10751,\n    name: 'Family',\n  },\n  {\n    id: 14,\n    name: 'Fantasy',\n  },\n  {\n    id: 36,\n    name: 'History',\n  },\n  {\n    id: 27,\n    name: 'Horror',\n  },\n  {\n    id: 10402,\n    name: 'Music',\n  },\n  {\n    id: 9648,\n    name: 'Mystery',\n  },\n  {\n    id: 10749,\n    name: 'Romance',\n  },\n  {\n    id: 878,\n    name: 'Science Fiction',\n  },\n  {\n    id: 10770,\n    name: 'TV Movie',\n  },\n  {\n    id: 53,\n    name: 'Thriller',\n  },\n  {\n    id: 10752,\n    name: 'War',\n  },\n  {\n    id: 37,\n    name: 'Western',\n  },\n];","import MoviesApi from './moviesApi';\nimport getRefs from './get-refs';\nimport { createMarkupElement } from './renderMarkup';\nimport { showMovies } from './filter';\nimport { makeSkeletonLoader } from './skeleton-loader';\n\nconst refs = getRefs();\nconst moviesApi = new MoviesApi();\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchTrendMovies(1);\n});\n\nlet currentPage = 1;\n\nexport async function fetchTrendMovies() {\n  try {\n    const { results, page, total_pages } = await moviesApi.fetchTrendWeekMovies();\n    refs.imagesContainer.innerHTML = '';\n\n    results.length &&\n      refs.imagesContainer.insertAdjacentHTML(\n        'afterbegin',\n        results.map(createMarkupElement).join('')\n      );\n      renderPagination(page, total_pages);\n   \n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function renderPagination(page, totalPage) {\n  currentPage = page;\n  let paginationMarkup = '';\n  let beforeTwoPage = page - 2;\n  let beforePage = page - 1;\n  let afterTwoPage = page + 2;\n  let afterPage = page + 1;\n\n  if (page > 1) {\n    paginationMarkup += `<li class=\"pagination__arrow pagination__arrow--left materials-icons\">&larr;</li>`;\n  }\n  if (page > 2) {\n    paginationMarkup += `<li class=\"pagination__number display-none\">1</li>`;\n  }\n  if (page > 4) {\n    paginationMarkup += `<li class=\"pagination__number display-none\">...</li>`;\n  }\n\n  if (page > 3) {\n    paginationMarkup += `<li class=\"pagination__number\">${beforeTwoPage}</li>`;\n  }\n\n  if (page >= 2) {\n    paginationMarkup += `<li class=\"pagination__number\">${beforePage}</li>`;\n  }\n\n  paginationMarkup += `<li class=\"pagination__number active\">${page}</li>`;\n  if (page < totalPage - 1) {\n    paginationMarkup += `<li class=\"pagination__number\">${afterPage}</li>`;\n  }\n  if (page < totalPage - 2) {\n    paginationMarkup += `<li class=\"pagination__number\">${afterTwoPage}</li>`;\n  }\n  if (page <= totalPage - 1) {\n    if (page < totalPage - 3) {\n      paginationMarkup += `<li class=\"pagination__number display-none\">...</li>`;\n    }\n    paginationMarkup += `<li class=\"pagination__number display-none\">${totalPage}</li>`;\n  }\n\n  if (page < totalPage) {\n    paginationMarkup += `<li class='pagination__arrow pagination__arrow--right materials-icons'>&rarr;</li>`;\n  }\n  refs.paginationList.innerHTML = paginationMarkup;\n\n  refs.paginationList.addEventListener('click', onPagination);\n}\n\n\nexport function onPagination(e) {\n  if (e.target.nodeName !== `LI`) {\n    return;\n  }\n  const target = e.target.textContent;\n  \n  window.scrollTo({ top: 240, behavior: 'smooth' });\n  switch (target) {\n    case '←':\n      moviesApi.previousPage()\n      break;\n    case '→':\n      moviesApi.nextPage()\n      break;\n\n    case '...':\n      break;\n\n    default:\n      moviesApi.eventPage(target) \n  }\nfetchTrendMovies()\n}\n\nexport function renderPaginationbyGenre(page, totalPage) {\n  currentPage = page;\n  let paginationMarkup = '';\n  let beforeTwoPage = page - 2;\n  let beforePage = page - 1;\n  let afterTwoPage = page + 2;\n  let afterPage = page + 1;\n\n  if (page > 1) {\n    paginationMarkup += `<li class=\"pagination__arrow pagination__arrow--left materials-icons\">&larr;</li>`;\n  }\n  if (page > 2) {\n    paginationMarkup += `<li class=\"pagination__number display-none\">1</li>`;\n  }\n  if (page > 4) {\n    paginationMarkup += `<li class=\"pagination__number display-none\">...</li>`;\n  }\n\n  if (page > 3) {\n    paginationMarkup += `<li class=\"pagination__number\">${beforeTwoPage}</li>`;\n  }\n\n  if (page >= 2) {\n    paginationMarkup += `<li class=\"pagination__number\">${beforePage}</li>`;\n  }\n\n  paginationMarkup += `<li class=\"pagination__number active\">${page}</li>`;\n  if (page < totalPage - 1) {\n    paginationMarkup += `<li class=\"pagination__number\">${afterPage}</li>`;\n  }\n  if (page < totalPage - 2) {\n    paginationMarkup += `<li class=\"pagination__number\">${afterTwoPage}</li>`;\n  }\n  if (page <= totalPage - 1) {\n    if (page < totalPage - 3) {\n      paginationMarkup += `<li class=\"pagination__number display-none\">...</li>`;\n    }\n    paginationMarkup += `<li class=\"pagination__number display-none\">${totalPage}</li>`;\n  }\n\n  if (page < totalPage) {\n    paginationMarkup += `<li class='pagination__arrow pagination__arrow--right materials-icons'>&rarr;</li>`;\n  }\n  refs.paginationList.innerHTML = paginationMarkup;\n\n  refs.paginationList.addEventListener('click', onPaginationbyGenre);\n}\n\nexport function onPaginationbyGenre(e) {\n  if (e.target.nodeName !== `LI`) {\n    return;\n  }\n  const target = e.target.textContent;\n\n  window.scrollTo({ top: 240, behavior: 'smooth' });\n  switch (target) {\n    case '←':\n      moviesApi.previousPage();\n      break;\n    case '→':\n      moviesApi.nextPage();\n      break;\n\n    case '...':\n      break;\n\n    default:\n      moviesApi.eventPage(target);\n  }\n  showMovies();\n}\n","import { genresNames } from './genres-names';\nimport { createMarkupElement } from './renderMarkup';\nimport { fetchTrendMovies } from './pagination';\nimport MoviesApi from './moviesApi';\nimport getRefs from './get-refs';\nimport { renderPaginationbyGenre } from './pagination';\n\nconst moviesApi = new MoviesApi();\nconst refs = getRefs();\n\n// set genres\nlet selectedGenre = [];\nlet selectedGenreName = [];\nsetGenre();\n\nfunction setGenre() {\n  genresNames.forEach(genre => {\n    const elem = document.createElement('li');\n    elem.classList.add('filter__genre-item');\n    elem.id = genre.id;\n    elem.innerText = genre.name;\n    elem.addEventListener('click', () => {\n      if (selectedGenre.length === 0) {\n        selectedGenre.push(genre.id);\n        selectedGenreName.push(genre.name);\n      } else {\n        if (selectedGenre.includes(genre.id)) {\n          selectedGenre.forEach((id, index) => {\n            if (id === genre.id) {\n              selectedGenre.splice(index, 1);\n              selectedGenreName.splice(index, 1);\n            }\n          });\n        } else {\n          selectedGenre.push(genre.id);\n          selectedGenreName.push(genre.name);\n        }\n      }\n      showMovies();\n      highlightSelection();\n      updateFilterSelectBtn();\n    });\n    refs.filterGenreList.append(elem);\n  });\n}\n\n// highlight selected genre\nfunction highlightSelection() {\n  const genres = document.querySelectorAll('.filter__genre-item');\n  genres.forEach(genre => {\n    genre.classList.remove('filter__genre-item--highlight');\n  });\n  if (selectedGenre.length !== 0) {\n    refs.filterClear.classList.remove('filter--hidden');\n    selectedGenre.forEach(id => {\n      const filterHighlightedGenre = document.getElementById(id);\n      filterHighlightedGenre.classList.add('filter__genre-item--highlight');\n    });\n  } else {\n    refs.filterClear.classList.add('filter--hidden');\n    fetchTrendMovies();\n  }\n}\n\n// render movies by genre\n\nexport async function showMovies() {\n  try {\n    const { results, page, total_pages } = await moviesApi.fetchMovieByGenres(\n      selectedGenre\n    );\n    refs.imagesContainer.innerHTML = '';\n\n    results.length &&\n      refs.imagesContainer.insertAdjacentHTML(\n        'afterbegin',\n        results.map(createMarkupElement).join('')\n      );\n    renderPaginationbyGenre(page, total_pages);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// clear filter\nrefs.filterClear.addEventListener('click', onFilterClearBtn);\n\nfunction onFilterClearBtn() {\n  if (selectedGenre.length != 0) {\n    selectedGenre.forEach(id => {\n      const filterHighlightedGenre = document.getElementById(id);\n      filterHighlightedGenre.classList.remove('filter__genre-item--highlight');\n    });\n  }\n  selectedGenre = [];\n  selectedGenreName = [];\n  refs.filterClear.classList.add('filter--hidden');\n  refs.filterContainer.classList.remove('filter--active');\n  refs.filterSelectBtn.innerHTML = 'Select genre';\n  fetchTrendMovies();\n}\n\n// custom select\nrefs.filterSelectBtn.addEventListener('click', onFilterSelectBtn);\n\nfunction onFilterSelectBtn() {\n  refs.filterContainer.classList.toggle('filter--active');\n}\n\nfunction updateFilterSelectBtn() {\n  if (selectedGenreName.length === 0) {\n    refs.filterSelectBtn.innerHTML = 'Select genre';\n    return;\n  }\n  if (selectedGenreName.length === 1) {\n    refs.filterSelectBtn.innerHTML = selectedGenreName[0];\n    return;\n  }\n  if (selectedGenreName.length > 1) {\n    refs.filterSelectBtn.innerHTML = selectedGenreName[0] + '...';\n    return;\n  }\n}\n","\nimport axios from 'axios';\nimport getRefs from './get-refs';\nimport { createMarkupElement } from './renderMarkup.js';\nimport { makeSkeletonLoader } from './skeleton-loader.js';\nimport MoviesApi from './moviesApi.js';\n// import createPagination from './pagination.js';\n\n\nconst refs = getRefs();\n\nconst moviesApi = new MoviesApi();\n\nexport default  async function  onSearch (e) {\n    e.preventDefault();\n    await  fetchQMovies(refs.searchInput.value)\n \n}\n\n\nasync function fetchQMovies(q) {\n  try {\n    moviesApi.query = q;\n    const { results, total_results, page } =\n      await moviesApi.fetchMovieQuery();\n\n    results.length &&\n      refs.imagesContainer.insertAdjacentHTML(\n        'afterbegin',\n        results.map(createMarkupElement).join('')\n      );\n\n    //  // pagination\n    const instance = createPagination();\n    instance.setItemsPerPage(20);\n    instance.setTotalItems(total_results);\n    instance.movePageTo(page);\n\n    instance.on('afterMove', event => {\n      const currentPage = event.page;\n      window.scrollTo({ top: 240, behavior: 'smooth' });\n    });\n\n    results.length &&\n      refs.imagesContainer.insertAdjacentHTML(\n        'afterbegin',\n        results.map(createMarkupElement).join('')\n      );\n\n    // Skeleton\n    makeSkeletonLoader();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n\n"],"names":["$lpPzL","parcelRequire","$9da33f946a95ef3f$export$fb4fbcb7823c4459","id","name","$2Di0R","$1bab9c519cfa82bc$var$refs","default","$1bab9c519cfa82bc$var$moviesApi","document","addEventListener","$1bab9c519cfa82bc$export$c798854e734872f","$1bab9c519cfa82bc$var$currentPage","async","results","page","total_pages","fetchTrendWeekMovies","imagesContainer","innerHTML","length","insertAdjacentHTML","map","$cky31","createMarkupElement","join","totalPage","paginationMarkup","beforeTwoPage","beforePage","afterTwoPage","afterPage","paginationList","$1bab9c519cfa82bc$export$616bef9d63e4912c","$1bab9c519cfa82bc$export$825408fbca4f2040","error","console","log","e","target","nodeName","textContent","window","scrollTo","top","behavior","previousPage","nextPage","eventPage","$1bab9c519cfa82bc$export$98031b76d2cdf7d4","$1bab9c519cfa82bc$export$650b7bd3b027b8fd","$cc8167df025acb14$export$ee74f1750741a03b","$cc8167df025acb14$var$moviesApi","$cc8167df025acb14$var$refs","$cc8167df025acb14$var$selectedGenre","$cc8167df025acb14$var$selectedGenreName","fetchMovieByGenres","forEach","genre","elem","createElement","classList","add","innerText","push","includes","index","splice","querySelectorAll","remove","filterClear","getElementById","filterSelectBtn","filterGenreList","append","filterContainer","toggle","$94b99a53ef2767b6$var$refs","$94b99a53ef2767b6$var$moviesApi","$1f0dc3b9307be026$var$refs","$1f0dc3b9307be026$var$moviesApi","total_results","$b3J8n","makeSkeletonLoader","$1f0dc3b9307be026$var$fetchTrendMovies","contains","preventDefault","movieId","dataset","$E9a0y","$93cIg","searchForm","q","query","fetchMovieQuery","instance","createPagination","setItemsPerPage","setTotalItems","movePageTo","on","event","$94b99a53ef2767b6$var$fetchQMovies","searchInput","value","$6mLAN"],"version":3,"file":"index.606d0c91.js.map"}